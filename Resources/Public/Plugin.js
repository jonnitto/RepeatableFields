(()=>{var Cr=Object.create;var Ht=Object.defineProperty;var Sr=Object.getOwnPropertyDescriptor;var Ar=Object.getOwnPropertyNames;var Or=Object.getPrototypeOf,Tr=Object.prototype.hasOwnProperty;var Er=(e,t)=>()=>(e&&(t=e(e=0)),t);var Q=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Gr=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Ar(t))!Tr.call(e,i)&&i!==r&&Ht(e,i,{get:()=>t[i],enumerable:!(o=Sr(t,i))||o.enumerable});return e};var X=(e,t,r)=>(r=e!=null?Cr(Or(e)):{},Gr(t||!e||!e.__esModule?Ht(r,"default",{value:e,enumerable:!0}):r,e));function B(e){return(...t)=>{if(window["@Neos:HostPluginAPI"]&&window["@Neos:HostPluginAPI"][`@${e}`])return window["@Neos:HostPluginAPI"][`@${e}`](...t);throw new Error("You are trying to read from a consumer api that hasn't been initialized yet!")}}var K=Er(()=>{});var me=Q((sa,Zt)=>{K();Zt.exports=B("vendor")().React});var Ut=Q((ca,zt)=>{K();zt.exports=B("vendor")().reactRedux});var Re=Q((da,Kt)=>{K();Kt.exports=B("vendor")().PropTypes});var Qt=Q((ma,qt)=>{K();qt.exports=B("NeosProjectPackages")().NeosUiReduxStore});var ht=Q((ba,en)=>{K();en.exports=B("NeosProjectPackages")().NeosUiDecorators});var gt=Q((xa,tn)=>{K();tn.exports=B("NeosProjectPackages")().ReactUiComponents});var un=Q((os,cn)=>{K();cn.exports=B("vendor")().ReactDOM});var fn=Q((is,dn)=>{"use strict";var Rr=function(e,t,r,o,i,s,c,n){if(!e){var d;if(t===void 0)d=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=[r,o,i,s,c,n],l=0;d=new Error(t.replace(/%s/g,function(){return a[l++]})),d.name="Invariant Violation"}throw d.framesToPop=1,d}};dn.exports=Rr});var rr=Q((Ms,nr)=>{var po=200,Pt="__lodash_hash_undefined__",ho=1/0,Fn=9007199254740991,go="[object Arguments]",mo="[object Function]",yo="[object GeneratorFunction]",bo="[object Symbol]",vo=/[\\^$.*+?()[\]{}|]/g,xo=/^\[object .+?Constructor\]$/,wo=/^(?:0|[1-9]\d*)$/,Io=typeof global=="object"&&global&&global.Object===Object&&global,Co=typeof self=="object"&&self&&self.Object===Object&&self,kt=Io||Co||Function("return this")();function So(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function Ao(e,t){var r=e?e.length:0;return!!r&&Eo(e,t,0)>-1}function Oo(e,t,r){for(var o=-1,i=e?e.length:0;++o<i;)if(r(t,e[o]))return!0;return!1}function Zn(e,t){for(var r=-1,o=e?e.length:0,i=Array(o);++r<o;)i[r]=t(e[r],r,e);return i}function Wt(e,t){for(var r=-1,o=t.length,i=e.length;++r<o;)e[i+r]=t[r];return e}function To(e,t,r,o){for(var i=e.length,s=r+(o?1:-1);o?s--:++s<i;)if(t(e[s],s,e))return s;return-1}function Eo(e,t,r){if(t!==t)return To(e,Go,r);for(var o=r-1,i=e.length;++o<i;)if(e[o]===t)return o;return-1}function Go(e){return e!==e}function No(e,t){for(var r=-1,o=Array(e);++r<e;)o[r]=t(r);return o}function Ro(e){return function(t){return e(t)}}function Po(e,t){return e.has(t)}function ko(e,t){return e?.[t]}function Wo(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}function zn(e,t){return function(r){return e(t(r))}}var Do=Array.prototype,Bo=Function.prototype,st=Object.prototype,Nt=kt["__core-js_shared__"],jn=function(){var e=/[^.]+$/.exec(Nt&&Nt.keys&&Nt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Un=Bo.toString,Te=st.hasOwnProperty,Dt=st.toString,_o=RegExp("^"+Un.call(Te).replace(vo,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yn=kt.Symbol,Lo=zn(Object.getPrototypeOf,Object),Xo=st.propertyIsEnumerable,Mo=Do.splice,Hn=Yn?Yn.isConcatSpreadable:void 0,Rt=Object.getOwnPropertySymbols,Vn=Math.max,jo=Jn(kt,"Map"),Le=Jn(Object,"create");function fe(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}function Yo(){this.__data__=Le?Le(null):{}}function Ho(e){return this.has(e)&&delete this.__data__[e]}function Vo(e){var t=this.__data__;if(Le){var r=t[e];return r===Pt?void 0:r}return Te.call(t,e)?t[e]:void 0}function Fo(e){var t=this.__data__;return Le?t[e]!==void 0:Te.call(t,e)}function Zo(e,t){var r=this.__data__;return r[e]=Le&&t===void 0?Pt:t,this}fe.prototype.clear=Yo;fe.prototype.delete=Ho;fe.prototype.get=Vo;fe.prototype.has=Fo;fe.prototype.set=Zo;function Ee(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}function zo(){this.__data__=[]}function Uo(e){var t=this.__data__,r=lt(t,e);if(r<0)return!1;var o=t.length-1;return r==o?t.pop():Mo.call(t,r,1),!0}function Ko(e){var t=this.__data__,r=lt(t,e);return r<0?void 0:t[r][1]}function Jo(e){return lt(this.__data__,e)>-1}function $o(e,t){var r=this.__data__,o=lt(r,e);return o<0?r.push([e,t]):r[o][1]=t,this}Ee.prototype.clear=zo;Ee.prototype.delete=Uo;Ee.prototype.get=Ko;Ee.prototype.has=Jo;Ee.prototype.set=$o;function Ge(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}function qo(){this.__data__={hash:new fe,map:new(jo||Ee),string:new fe}}function Qo(e){return ct(this,e).delete(e)}function ei(e){return ct(this,e).get(e)}function ti(e){return ct(this,e).has(e)}function ni(e,t){return ct(this,e).set(e,t),this}Ge.prototype.clear=qo;Ge.prototype.delete=Qo;Ge.prototype.get=ei;Ge.prototype.has=ti;Ge.prototype.set=ni;function at(e){var t=-1,r=e?e.length:0;for(this.__data__=new Ge;++t<r;)this.add(e[t])}function ri(e){return this.__data__.set(e,Pt),this}function oi(e){return this.__data__.has(e)}at.prototype.add=at.prototype.push=ri;at.prototype.has=oi;function ii(e,t){var r=Bt(e)||$n(e)?No(e.length,String):[],o=r.length,i=!!o;for(var s in e)(t||Te.call(e,s))&&!(i&&(s=="length"||yi(s,o)))&&r.push(s);return r}function lt(e,t){for(var r=e.length;r--;)if(Si(e[r][0],t))return r;return-1}function ai(e,t,r,o){var i=-1,s=Ao,c=!0,n=e.length,d=[],a=t.length;if(!n)return d;r&&(t=Zn(t,Ro(r))),o?(s=Oo,c=!1):t.length>=po&&(s=Po,c=!1,t=new at(t));e:for(;++i<n;){var l=e[i],u=r?r(l):l;if(l=o||l!==0?l:0,c&&u===u){for(var f=a;f--;)if(t[f]===u)continue e;d.push(l)}else s(t,u,o)||d.push(l)}return d}function Kn(e,t,r,o,i){var s=-1,c=e.length;for(r||(r=mi),i||(i=[]);++s<c;){var n=e[s];t>0&&r(n)?t>1?Kn(n,t-1,r,o,i):Wt(i,n):o||(i[i.length]=n)}return i}function si(e,t,r){var o=t(e);return Bt(e)?o:Wt(o,r(e))}function li(e){if(!_t(e)||vi(e))return!1;var t=Qn(e)||Wo(e)?_o:xo;return t.test(Ci(e))}function ci(e){if(!_t(e))return wi(e);var t=xi(e),r=[];for(var o in e)o=="constructor"&&(t||!Te.call(e,o))||r.push(o);return r}function ui(e,t){return e=Object(e),di(e,t,function(r,o){return o in e})}function di(e,t,r){for(var o=-1,i=t.length,s={};++o<i;){var c=t[o],n=e[c];r(n,c)&&(s[c]=n)}return s}function fi(e,t){return t=Vn(t===void 0?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=Vn(r.length-t,0),s=Array(i);++o<i;)s[o]=r[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=r[o];return c[t]=s,So(e,this,c)}}function pi(e){return si(e,Ei,gi)}function ct(e,t){var r=e.__data__;return bi(t)?r[typeof t=="string"?"string":"hash"]:r.map}function Jn(e,t){var r=ko(e,t);return li(r)?r:void 0}var hi=Rt?zn(Rt,Object):tr,gi=Rt?function(e){for(var t=[];e;)Wt(t,hi(e)),e=Lo(e);return t}:tr;function mi(e){return Bt(e)||$n(e)||!!(Hn&&e&&e[Hn])}function yi(e,t){return t=t??Fn,!!t&&(typeof e=="number"||wo.test(e))&&e>-1&&e%1==0&&e<t}function bi(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function vi(e){return!!jn&&jn in e}function xi(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||st;return e===r}function wi(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}function Ii(e){if(typeof e=="string"||Ti(e))return e;var t=e+"";return t=="0"&&1/e==-ho?"-0":t}function Ci(e){if(e!=null){try{return Un.call(e)}catch{}try{return e+""}catch{}}return""}function Si(e,t){return e===t||e!==e&&t!==t}function $n(e){return Ai(e)&&Te.call(e,"callee")&&(!Xo.call(e,"callee")||Dt.call(e)==go)}var Bt=Array.isArray;function qn(e){return e!=null&&Oi(e.length)&&!Qn(e)}function Ai(e){return er(e)&&qn(e)}function Qn(e){var t=_t(e)?Dt.call(e):"";return t==mo||t==yo}function Oi(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Fn}function _t(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function er(e){return!!e&&typeof e=="object"}function Ti(e){return typeof e=="symbol"||er(e)&&Dt.call(e)==bo}function Ei(e){return qn(e)?ii(e,!0):ci(e)}var Gi=fi(function(e,t){return e==null?{}:(t=Zn(Kn(t,1),Ii),ui(e,ai(pi(e),t)))});function tr(){return[]}nr.exports=Gi});K();var Ft=B("manifest");var I=X(me()),ur=X(Ut()),w=X(Re());var Jt="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var $t=(e=21)=>{let t="",r=crypto.getRandomValues(new Uint8Array(e));for(;e--;)t+=Jt[r[e]&63];return t};var dr=X(Qt()),fr=X(ht()),$=X(gt());K();var nn=B("NeosProjectPackages")().NeosUiBackendConnectorDefault,{fetchWithErrorHandling:Ia}=B("NeosProjectPackages")().NeosUiBackendConnector;var U=X(me());function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)({}).hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},ye.apply(null,arguments)}function rn(e){if(Array.isArray(e))return e}function on(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var o,i,s,c,n=[],d=!0,a=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(o=s.call(r)).done)&&(n.push(o.value),n.length!==t);d=!0);}catch(l){a=!0,i=l}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(a)throw i}}return n}}function Pe(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}function Ze(e,t){if(e){if(typeof e=="string")return Pe(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pe(e,t):void 0}}function an(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mt(e,t){return rn(e)||on(e,t)||Ze(e,t)||an()}function ee(e){"@babel/helpers - typeof";return ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ee(e)}function sn(e,t){if(ee(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var o=r.call(e,t||"default");if(ee(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ze(e){var t=sn(e,"string");return ee(t)=="symbol"?t:t+""}function O(e,t,r){return(t=ze(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&o.push.apply(o,Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),o.forEach(function(i){O(e,i,r[i])})}return e}function be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ln(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,ze(o.key),o)}}function ve(e,t,r){return t&&ln(e.prototype,t),r&&ln(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ke(e,t){if(t&&(ee(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function xe(e){return xe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xe(e)}function Je(e,t){return Je=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},Je(e,t)}function $e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Je(e,t)}var H=X(me()),tt=X(un()),ne=X(fn());function pn(e){if(Array.isArray(e))return Pe(e)}function hn(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mn(e){return pn(e)||hn(e)||Ze(e)||gn()}var m=X(Re()),Pr=function(){function e(){be(this,e),O(this,"refs",{})}return ve(e,[{key:"add",value:function(r,o){this.refs[r]||(this.refs[r]=[]),this.refs[r].push(o)}},{key:"remove",value:function(r,o){var i=this.getIndex(r,o);i!==-1&&this.refs[r].splice(i,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var r=this;return this.refs[this.active.collection].find(function(o){var i=o.node;return i.sortableInfo.index==r.active.index})}},{key:"getIndex",value:function(r,o){return this.refs[r].indexOf(o)}},{key:"getOrderedRefs",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.active.collection;return this.refs[r].sort(kr)}}]),e}();function kr(e,t){var r=e.node.sortableInfo.index,o=t.node.sortableInfo.index;return r-o}function xn(e,t){return Object.keys(e).reduce(function(r,o){return t.indexOf(o)===-1&&(r[o]=e[o]),r},{})}var we={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},wn=function(){if(typeof window>"u"||typeof document>"u")return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||e.OLink===""&&["","o"])[1];switch(t){case"ms":return"ms";default:return t&&t.length?t[0].toUpperCase()+t.substr(1):""}}();function qe(e,t){Object.keys(t).forEach(function(r){e.style[r]=t[r]})}function Qe(e,t){e.style["".concat(wn,"Transform")]=t==null?"":"translate3d(".concat(t.x,"px,").concat(t.y,"px,0)")}function yt(e,t){e.style["".concat(wn,"TransitionDuration")]=t==null?"":"".concat(t,"ms")}function We(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}function yn(e,t,r){return Math.max(e,Math.min(r,t))}function Ie(e){return e.substr(-2)==="px"?parseFloat(e):0}function Wr(e){var t=window.getComputedStyle(e);return{bottom:Ie(t.marginBottom),left:Ie(t.marginLeft),right:Ie(t.marginRight),top:Ie(t.marginTop)}}function vt(e,t){var r=t.displayName||t.name;return r?"".concat(e,"(").concat(r,")"):e}function bt(e,t){var r=e.getBoundingClientRect();return{top:r.top+t.top,left:r.left+t.left}}function ke(e){return e.touches&&e.touches.length?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches.length?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}}function Dr(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length}function et(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{left:0,top:0};if(e){var o={left:r.left+e.offsetLeft,top:r.top+e.offsetTop};return e.parentNode===t?o:et(e.parentNode,t,o)}}function Br(e,t,r){return e<r&&e>t?e-1:e>r&&e<t?e+1:e}function bn(e){var t=e.lockOffset,r=e.width,o=e.height,i=t,s=t,c="px";if(typeof t=="string"){var n=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);(0,ne.default)(n!==null,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',t),i=parseFloat(t),s=parseFloat(t),c=n[1]}return(0,ne.default)(isFinite(i)&&isFinite(s),"lockOffset value should be a finite. Given %s",t),c==="%"&&(i=i*r/100,s=s*o/100),{x:i,y:s}}function _r(e){var t=e.height,r=e.width,o=e.lockOffset,i=Array.isArray(o)?o:[o,o];(0,ne.default)(i.length===2,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",o);var s=mt(i,2),c=s[0],n=s[1];return[bn({height:t,lockOffset:c,width:r}),bn({height:t,lockOffset:n,width:r})]}function Lr(e){var t=window.getComputedStyle(e),r=/(auto|scroll)/,o=["overflow","overflowX","overflowY"];return o.find(function(i){return r.test(t[i])})}function In(e){return e instanceof HTMLElement?Lr(e)?e:In(e.parentNode):null}function Xr(e){var t=window.getComputedStyle(e);return t.display==="grid"?{x:Ie(t.gridColumnGap),y:Ie(t.gridRowGap)}:{x:0,y:0}}var se={TAB:9,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40},le={Anchor:"A",Button:"BUTTON",Canvas:"CANVAS",Input:"INPUT",Option:"OPTION",Textarea:"TEXTAREA",Select:"SELECT"};function Mr(e){var t="input, textarea, select, canvas, [contenteditable]",r=e.querySelectorAll(t),o=e.cloneNode(!0),i=mn(o.querySelectorAll(t));return i.forEach(function(s,c){if(s.type!=="file"&&(s.value=r[c].value),s.type==="radio"&&s.name&&(s.name="__sortableClone__".concat(s.name)),s.tagName===le.Canvas&&r[c].width>0&&r[c].height>0){var n=s.getContext("2d");n.drawImage(r[c],0,0)}}),o}function Cn(e){var t,r,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return r=t=function(i){$e(s,i);function s(){var c,n;be(this,s);for(var d=arguments.length,a=new Array(d),l=0;l<d;l++)a[l]=arguments[l];return n=Ke(this,(c=xe(s)).call.apply(c,[this].concat(a))),O(v(v(n)),"wrappedInstance",(0,H.createRef)()),n}return ve(s,[{key:"componentDidMount",value:function(){var n=(0,tt.findDOMNode)(this);n.sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return(0,ne.default)(o.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.wrappedInstance.current}},{key:"render",value:function(){var n=o.withRef?this.wrappedInstance:null;return(0,H.createElement)(e,ye({ref:n},this.props))}}]),s}(H.Component),O(t,"displayName",vt("sortableHandle",e)),r}function vn(e){return e.sortableHandle!=null}var jr=function(){function e(t,r){be(this,e),this.container=t,this.onScrollCallback=r}return ve(e,[{key:"clear",value:function(){this.interval!=null&&(clearInterval(this.interval),this.interval=null)}},{key:"update",value:function(r){var o=this,i=r.translate,s=r.minTranslate,c=r.maxTranslate,n=r.width,d=r.height,a={x:0,y:0},l={x:1,y:1},u={x:10,y:10},f=this.container,p=f.scrollTop,x=f.scrollLeft,y=f.scrollHeight,R=f.scrollWidth,A=f.clientHeight,P=f.clientWidth,G=p===0,C=y-p-A===0,T=x===0,M=R-x-P===0;i.y>=c.y-d/2&&!C?(a.y=1,l.y=u.y*Math.abs((c.y-d/2-i.y)/d)):i.x>=c.x-n/2&&!M?(a.x=1,l.x=u.x*Math.abs((c.x-n/2-i.x)/n)):i.y<=s.y+d/2&&!G?(a.y=-1,l.y=u.y*Math.abs((i.y-d/2-s.y)/d)):i.x<=s.x+n/2&&!T&&(a.x=-1,l.x=u.x*Math.abs((i.x-n/2-s.x)/n)),this.interval&&(this.clear(),this.isAutoScrolling=!1),(a.x!==0||a.y!==0)&&(this.interval=setInterval(function(){o.isAutoScrolling=!0;var b={left:l.x*a.x,top:l.y*a.y};o.container.scrollTop+=b.top,o.container.scrollLeft+=b.left,o.onScrollCallback(b)},5))}}]),e}();function Yr(e){var t=e.node;return{height:t.offsetHeight,width:t.offsetWidth}}function Hr(e){var t=[le.Input,le.Textarea,le.Select,le.Option,le.Button];return!!(t.indexOf(e.target.tagName)!==-1||We(e.target,function(r){return r.contentEditable==="true"}))}var Sn={axis:m.default.oneOf(["x","y","xy"]),contentWindow:m.default.any,disableAutoscroll:m.default.bool,distance:m.default.number,getContainer:m.default.func,getHelperDimensions:m.default.func,helperClass:m.default.string,helperContainer:m.default.oneOfType([m.default.func,typeof HTMLElement>"u"?m.default.any:m.default.instanceOf(HTMLElement)]),hideSortableGhost:m.default.bool,keyboardSortingTransitionDuration:m.default.number,lockAxis:m.default.string,lockOffset:m.default.oneOfType([m.default.number,m.default.string,m.default.arrayOf(m.default.oneOfType([m.default.number,m.default.string]))]),lockToContainerEdges:m.default.bool,onSortEnd:m.default.func,onSortMove:m.default.func,onSortOver:m.default.func,onSortStart:m.default.func,pressDelay:m.default.number,pressThreshold:m.default.number,keyCodes:m.default.shape({lift:m.default.arrayOf(m.default.number),drop:m.default.arrayOf(m.default.number),cancel:m.default.arrayOf(m.default.number),up:m.default.arrayOf(m.default.number),down:m.default.arrayOf(m.default.number)}),shouldCancelStart:m.default.func,transitionDuration:m.default.number,updateBeforeSortStart:m.default.func,useDragHandle:m.default.bool,useWindowAsScrollContainer:m.default.bool},An={lift:[se.SPACE],drop:[se.SPACE],cancel:[se.ESC],up:[se.UP,se.LEFT],down:[se.DOWN,se.RIGHT]},Vr={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:Yr,hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,keyCodes:An,shouldCancelStart:Hr,transitionDuration:300,useWindowAsScrollContainer:!1},Fr=Object.keys(Sn);function Zr(e){(0,ne.default)(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.")}function zr(e,t){try{var r=e()}catch(o){return t(!0,o)}return r&&r.then?r.then(t.bind(null,!1),t.bind(null,!0)):t(!1,value)}var On=(0,H.createContext)({manager:{}});function Tn(e){var t,r,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return r=t=function(i){$e(s,i);function s(c){var n;be(this,s),n=Ke(this,xe(s).call(this,c)),O(v(v(n)),"state",{}),O(v(v(n)),"handleStart",function(a){var l=n.props,u=l.distance,f=l.shouldCancelStart;if(!(a.button===2||f(a))){n.touched=!0,n.position=ke(a);var p=We(a.target,function(G){return G.sortableInfo!=null});if(p&&p.sortableInfo&&n.nodeIsChild(p)&&!n.state.sorting){var x=n.props.useDragHandle,y=p.sortableInfo,R=y.index,A=y.collection,P=y.disabled;if(P||x&&!We(a.target,vn))return;n.manager.active={collection:A,index:R},!Dr(a)&&a.target.tagName===le.Anchor&&a.preventDefault(),u||(n.props.pressDelay===0?n.handlePress(a):n.pressTimer=setTimeout(function(){return n.handlePress(a)},n.props.pressDelay))}}}),O(v(v(n)),"nodeIsChild",function(a){return a.sortableInfo.manager===n.manager}),O(v(v(n)),"handleMove",function(a){var l=n.props,u=l.distance,f=l.pressThreshold;if(!n.state.sorting&&n.touched&&!n._awaitingUpdateBeforeSortStart){var p=ke(a),x={x:n.position.x-p.x,y:n.position.y-p.y},y=Math.abs(x.x)+Math.abs(x.y);n.delta=x,!u&&(!f||y>=f)?(clearTimeout(n.cancelTimer),n.cancelTimer=setTimeout(n.cancel,0)):u&&y>=u&&n.manager.isActive()&&n.handlePress(a)}}),O(v(v(n)),"handleEnd",function(){n.touched=!1,n.cancel()}),O(v(v(n)),"cancel",function(){var a=n.props.distance,l=n.state.sorting;l||(a||clearTimeout(n.pressTimer),n.manager.active=null)}),O(v(v(n)),"handlePress",function(a){try{var l=n.manager.getActive(),u=function(){if(l){var f=function(){var k=T.sortableInfo.index,E=Wr(T),F=Xr(n.container),Z=n.scrollContainer.getBoundingClientRect(),oe=y({index:k,node:T,collection:M});if(n.node=T,n.margin=E,n.gridGap=F,n.width=oe.width,n.height=oe.height,n.marginOffset={x:n.margin.left+n.margin.right+n.gridGap.x,y:Math.max(n.margin.top,n.margin.bottom,n.gridGap.y)},n.boundingClientRect=T.getBoundingClientRect(),n.containerBoundingRect=Z,n.index=k,n.newIndex=k,n.axis={x:x.indexOf("x")>=0,y:x.indexOf("y")>=0},n.offsetEdge=et(T,n.container),b?n.initialOffset=ke(Ue({},a,{pageX:n.boundingClientRect.left,pageY:n.boundingClientRect.top})):n.initialOffset=ke(a),n.initialScroll={left:n.scrollContainer.scrollLeft,top:n.scrollContainer.scrollTop},n.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},n.helper=n.helperContainer.appendChild(Mr(T)),qe(n.helper,{boxSizing:"border-box",height:"".concat(n.height,"px"),left:"".concat(n.boundingClientRect.left-E.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(n.boundingClientRect.top-E.top,"px"),width:"".concat(n.width,"px")}),b&&n.helper.focus(),A&&(n.sortableGhost=T,qe(T,{opacity:0,visibility:"hidden"})),n.minTranslate={},n.maxTranslate={},b){var pe=C?{top:0,left:0,width:n.contentWindow.innerWidth,height:n.contentWindow.innerHeight}:n.containerBoundingRect,Me=pe.top,je=pe.left,dt=pe.width,ft=pe.height,pt=Me+ft,ie=je+dt;n.axis.x&&(n.minTranslate.x=je-n.boundingClientRect.left,n.maxTranslate.x=ie-(n.boundingClientRect.left+n.width)),n.axis.y&&(n.minTranslate.y=Me-n.boundingClientRect.top,n.maxTranslate.y=pt-(n.boundingClientRect.top+n.height))}else n.axis.x&&(n.minTranslate.x=(C?0:Z.left)-n.boundingClientRect.left-n.width/2,n.maxTranslate.x=(C?n.contentWindow.innerWidth:Z.left+Z.width)-n.boundingClientRect.left-n.width/2),n.axis.y&&(n.minTranslate.y=(C?0:Z.top)-n.boundingClientRect.top-n.height/2,n.maxTranslate.y=(C?n.contentWindow.innerHeight:Z.top+Z.height)-n.boundingClientRect.top-n.height/2);R&&R.split(" ").forEach(function(ae){return n.helper.classList.add(ae)}),n.listenerNode=a.touches?a.target:n.contentWindow,b?(n.listenerNode.addEventListener("wheel",n.handleKeyEnd,!0),n.listenerNode.addEventListener("mousedown",n.handleKeyEnd,!0),n.listenerNode.addEventListener("keydown",n.handleKeyDown)):(we.move.forEach(function(ae){return n.listenerNode.addEventListener(ae,n.handleSortMove,!1)}),we.end.forEach(function(ae){return n.listenerNode.addEventListener(ae,n.handleSortEnd,!1)})),n.setState({sorting:!0,sortingIndex:k}),G&&G({node:T,index:k,collection:M,isKeySorting:b,nodes:n.manager.getOrderedRefs(),helper:n.helper},a),b&&n.keyMove(0)},p=n.props,x=p.axis,y=p.getHelperDimensions,R=p.helperClass,A=p.hideSortableGhost,P=p.updateBeforeSortStart,G=p.onSortStart,C=p.useWindowAsScrollContainer,T=l.node,M=l.collection,b=n.manager.isKeySorting,Y=function(){if(typeof P=="function"){n._awaitingUpdateBeforeSortStart=!0;var S=zr(function(){var k=T.sortableInfo.index;return Promise.resolve(P({collection:M,index:k,node:T,isKeySorting:b},a)).then(function(){})},function(k,E){if(n._awaitingUpdateBeforeSortStart=!1,k)throw E;return E});if(S&&S.then)return S.then(function(){})}}();return Y&&Y.then?Y.then(f):f(Y)}}();return Promise.resolve(u&&u.then?u.then(function(){}):void 0)}catch(f){return Promise.reject(f)}}),O(v(v(n)),"handleSortMove",function(a){var l=n.props.onSortMove;typeof a.preventDefault=="function"&&a.cancelable&&a.preventDefault(),n.updateHelperPosition(a),n.animateNodes(),n.autoscroll(),l&&l(a)}),O(v(v(n)),"handleSortEnd",function(a){var l=n.props,u=l.hideSortableGhost,f=l.onSortEnd,p=n.manager,x=p.active.collection,y=p.isKeySorting,R=n.manager.getOrderedRefs();n.listenerNode&&(y?(n.listenerNode.removeEventListener("wheel",n.handleKeyEnd,!0),n.listenerNode.removeEventListener("mousedown",n.handleKeyEnd,!0),n.listenerNode.removeEventListener("keydown",n.handleKeyDown)):(we.move.forEach(function(T){return n.listenerNode.removeEventListener(T,n.handleSortMove)}),we.end.forEach(function(T){return n.listenerNode.removeEventListener(T,n.handleSortEnd)}))),n.helper.parentNode.removeChild(n.helper),u&&n.sortableGhost&&qe(n.sortableGhost,{opacity:"",visibility:""});for(var A=0,P=R.length;A<P;A++){var G=R[A],C=G.node;G.edgeOffset=null,G.boundingClientRect=null,Qe(C,null),yt(C,null),G.translate=null}n.autoScroller.clear(),n.manager.active=null,n.manager.isKeySorting=!1,n.setState({sorting:!1,sortingIndex:null}),typeof f=="function"&&f({collection:x,newIndex:n.newIndex,oldIndex:n.index,isKeySorting:y,nodes:R},a),n.touched=!1}),O(v(v(n)),"autoscroll",function(){var a=n.props.disableAutoscroll,l=n.manager.isKeySorting;if(a){n.autoScroller.clear();return}if(l){var u=Ue({},n.translate),f=0,p=0;n.axis.x&&(u.x=Math.min(n.maxTranslate.x,Math.max(n.minTranslate.x,n.translate.x)),f=n.translate.x-u.x),n.axis.y&&(u.y=Math.min(n.maxTranslate.y,Math.max(n.minTranslate.y,n.translate.y)),p=n.translate.y-u.y),n.translate=u,Qe(n.helper,n.translate),n.scrollContainer.scrollLeft+=f,n.scrollContainer.scrollTop+=p;return}n.autoScroller.update({height:n.height,maxTranslate:n.maxTranslate,minTranslate:n.minTranslate,translate:n.translate,width:n.width})}),O(v(v(n)),"onAutoScroll",function(a){n.translate.x+=a.left,n.translate.y+=a.top,n.animateNodes()}),O(v(v(n)),"handleKeyDown",function(a){var l=a.keyCode,u=n.props,f=u.shouldCancelStart,p=u.keyCodes,x=p===void 0?{}:p,y=Ue({},An,x);n.manager.active&&!n.manager.isKeySorting||!n.manager.active&&(!y.lift.includes(l)||f(a)||!n.isValidSortingTarget(a))||(a.stopPropagation(),a.preventDefault(),y.lift.includes(l)&&!n.manager.active?n.keyLift(a):y.drop.includes(l)&&n.manager.active?n.keyDrop(a):y.cancel.includes(l)?(n.newIndex=n.manager.active.index,n.keyDrop(a)):y.up.includes(l)?n.keyMove(-1):y.down.includes(l)&&n.keyMove(1))}),O(v(v(n)),"keyLift",function(a){var l=a.target,u=We(l,function(y){return y.sortableInfo!=null}),f=u.sortableInfo,p=f.index,x=f.collection;n.initialFocusedNode=l,n.manager.isKeySorting=!0,n.manager.active={index:p,collection:x},n.handlePress(a)}),O(v(v(n)),"keyMove",function(a){var l=n.manager.getOrderedRefs(),u=l[l.length-1].node.sortableInfo.index,f=n.newIndex+a,p=n.newIndex;if(!(f<0||f>u)){n.prevIndex=p,n.newIndex=f;var x=Br(n.newIndex,n.prevIndex,n.index),y=l.find(function(b){var Y=b.node;return Y.sortableInfo.index===x}),R=y.node,A=n.containerScrollDelta,P=y.boundingClientRect||bt(R,A),G=y.translate||{x:0,y:0},C={top:P.top+G.y-A.top,left:P.left+G.x-A.left},T=p<f,M={x:T&&n.axis.x?R.offsetWidth-n.width:0,y:T&&n.axis.y?R.offsetHeight-n.height:0};n.handleSortMove({pageX:C.left+M.x,pageY:C.top+M.y,ignoreTransition:a===0})}}),O(v(v(n)),"keyDrop",function(a){n.handleSortEnd(a),n.initialFocusedNode&&n.initialFocusedNode.focus()}),O(v(v(n)),"handleKeyEnd",function(a){n.manager.active&&n.keyDrop(a)}),O(v(v(n)),"isValidSortingTarget",function(a){var l=n.props.useDragHandle,u=a.target,f=We(u,function(p){return p.sortableInfo!=null});return f&&f.sortableInfo&&!f.sortableInfo.disabled&&(l?vn(u):u.sortableInfo)});var d=new Pr;return Zr(c),n.manager=d,n.wrappedInstance=(0,H.createRef)(),n.sortableContextValue={manager:d},n.events={end:n.handleEnd,move:n.handleMove,start:n.handleStart},n}return ve(s,[{key:"componentDidMount",value:function(){var n=this,d=this.props.useWindowAsScrollContainer,a=this.getContainer();Promise.resolve(a).then(function(l){n.container=l,n.document=n.container.ownerDocument||document;var u=n.props.contentWindow||n.document.defaultView||window;n.contentWindow=typeof u=="function"?u():u,n.scrollContainer=d?n.document.scrollingElement||n.document.documentElement:In(n.container)||n.container,n.autoScroller=new jr(n.scrollContainer,n.onAutoScroll),Object.keys(n.events).forEach(function(f){return we[f].forEach(function(p){return n.container.addEventListener(p,n.events[f],!1)})}),n.container.addEventListener("keydown",n.handleKeyDown)})}},{key:"componentWillUnmount",value:function(){var n=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach(function(d){return we[d].forEach(function(a){return n.container.removeEventListener(a,n.events[d])})}),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(n){var d=this.props,a=d.lockAxis,l=d.lockOffset,u=d.lockToContainerEdges,f=d.transitionDuration,p=d.keyboardSortingTransitionDuration,x=p===void 0?f:p,y=this.manager.isKeySorting,R=n.ignoreTransition,A=ke(n),P={x:A.x-this.initialOffset.x,y:A.y-this.initialOffset.y};if(P.y-=window.pageYOffset-this.initialWindowScroll.top,P.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=P,u){var G=_r({height:this.height,lockOffset:l,width:this.width}),C=mt(G,2),T=C[0],M=C[1],b={x:this.width/2-T.x,y:this.height/2-T.y},Y={x:this.width/2-M.x,y:this.height/2-M.y};P.x=yn(this.minTranslate.x+b.x,this.maxTranslate.x-Y.x,P.x),P.y=yn(this.minTranslate.y+b.y,this.maxTranslate.y-Y.y,P.y)}a==="x"?P.y=0:a==="y"&&(P.x=0),y&&x&&!R&&yt(this.helper,x),Qe(this.helper,P)}},{key:"animateNodes",value:function(){var n=this.props,d=n.transitionDuration,a=n.hideSortableGhost,l=n.onSortOver,u=this.containerScrollDelta,f=this.windowScrollDelta,p=this.manager.getOrderedRefs(),x={left:this.offsetEdge.left+this.translate.x+u.left,top:this.offsetEdge.top+this.translate.y+u.top},y=this.manager.isKeySorting,R=this.newIndex;this.newIndex=null;for(var A=0,P=p.length;A<P;A++){var G=p[A].node,C=G.sortableInfo.index,T=G.offsetWidth,M=G.offsetHeight,b={height:this.height>M?M/2:this.height/2,width:this.width>T?T/2:this.width/2},Y=y&&C>this.index&&C<=R,S=y&&C<this.index&&C>=R,k={x:0,y:0},E=p[A].edgeOffset;E||(E=et(G,this.container),p[A].edgeOffset=E,y&&(p[A].boundingClientRect=bt(G,u)));var F=A<p.length-1&&p[A+1],Z=A>0&&p[A-1];if(F&&!F.edgeOffset&&(F.edgeOffset=et(F.node,this.container),y&&(F.boundingClientRect=bt(F.node,u))),C===this.index){a&&(this.sortableGhost=G,qe(G,{opacity:0,visibility:"hidden"}));continue}d&&yt(G,d),this.axis.x?this.axis.y?S||C<this.index&&(x.left+f.left-b.width<=E.left&&x.top+f.top<=E.top+b.height||x.top+f.top+b.height<=E.top)?(k.x=this.width+this.marginOffset.x,E.left+k.x>this.containerBoundingRect.width-b.width&&F&&(k.x=F.edgeOffset.left-E.left,k.y=F.edgeOffset.top-E.top),this.newIndex===null&&(this.newIndex=C)):(Y||C>this.index&&(x.left+f.left+b.width>=E.left&&x.top+f.top+b.height>=E.top||x.top+f.top+b.height>=E.top+M))&&(k.x=-(this.width+this.marginOffset.x),E.left+k.x<this.containerBoundingRect.left+b.width&&Z&&(k.x=Z.edgeOffset.left-E.left,k.y=Z.edgeOffset.top-E.top),this.newIndex=C):Y||C>this.index&&x.left+f.left+b.width>=E.left?(k.x=-(this.width+this.marginOffset.x),this.newIndex=C):(S||C<this.index&&x.left+f.left<=E.left+b.width)&&(k.x=this.width+this.marginOffset.x,this.newIndex==null&&(this.newIndex=C)):this.axis.y&&(Y||C>this.index&&x.top+f.top+b.height>=E.top?(k.y=-(this.height+this.marginOffset.y),this.newIndex=C):(S||C<this.index&&x.top+f.top<=E.top+b.height)&&(k.y=this.height+this.marginOffset.y,this.newIndex==null&&(this.newIndex=C))),Qe(G,k),p[A].translate=k}this.newIndex==null&&(this.newIndex=this.index),y&&(this.newIndex=R);var oe=y?this.prevIndex:R;l&&this.newIndex!==oe&&l({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:oe,isKeySorting:y,nodes:p,helper:this.helper})}},{key:"getWrappedInstance",value:function(){return(0,ne.default)(o.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.wrappedInstance.current}},{key:"getContainer",value:function(){var n=this.props.getContainer;return typeof n!="function"?(0,tt.findDOMNode)(this):n(o.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var n=o.withRef?this.wrappedInstance:null;return(0,H.createElement)(On.Provider,{value:this.sortableContextValue},(0,H.createElement)(e,ye({ref:n},xn(this.props,Fr))))}},{key:"helperContainer",get:function(){var n=this.props.helperContainer;return typeof n=="function"?n():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){var n=this.props.useWindowAsScrollContainer;return n?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),s}(H.Component),O(t,"displayName",vt("sortableList",e)),O(t,"defaultProps",Vr),O(t,"propTypes",Sn),r}var En={index:m.default.number.isRequired,collection:m.default.oneOfType([m.default.number,m.default.string]),disabled:m.default.bool},Ur=Object.keys(En);function Gn(e){var t,r,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return r=t=function(i){$e(s,i);function s(){var c,n;be(this,s);for(var d=arguments.length,a=new Array(d),l=0;l<d;l++)a[l]=arguments[l];return n=Ke(this,(c=xe(s)).call.apply(c,[this].concat(a))),O(v(v(n)),"wrappedInstance",(0,H.createRef)()),n}return ve(s,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(n){this.node&&(n.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),n.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),n.collection!==this.props.collection&&(this.unregister(n.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var n=this.props,d=n.collection,a=n.disabled,l=n.index,u=(0,tt.findDOMNode)(this);u.sortableInfo={collection:d,disabled:a,index:l,manager:this.context.manager},this.node=u,this.ref={node:u},this.context.manager.add(d,this.ref)}},{key:"unregister",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.collection;this.context.manager.remove(n,this.ref)}},{key:"getWrappedInstance",value:function(){return(0,ne.default)(o.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.wrappedInstance.current}},{key:"render",value:function(){var n=o.withRef?this.wrappedInstance:null;return(0,H.createElement)(e,ye({ref:n},xn(this.props,Ur)))}}]),s}(H.Component),O(t,"displayName",vt("sortableElement",e)),O(t,"contextType",On),O(t,"propTypes",En),O(t,"defaultProps",{collection:0}),r}var de=X(me(),1);var Pn=new Set,V=new WeakMap,Se=new WeakMap,ce=new WeakMap,wt=new WeakMap,Kr=new WeakMap,Ae=new WeakMap,nt=new WeakMap,De=new WeakSet,re,Ct=0,St=0,te="__aa_tgt",Be="__aa_del",rt="__aa_new",Jr=e=>{let t=no(e);t&&t.forEach(r=>ro(r))},$r=e=>{e.forEach(t=>{t.target===re&&Qr(),V.has(t.target)&&ue(t.target)})};function qr(e){let t=wt.get(e);t?.disconnect();let r=V.get(e),o=0,i=5;r||(r=Oe(e),V.set(e,r));let{offsetWidth:s,offsetHeight:c}=re,d=[r.top-i,s-(r.left+i+r.width),c-(r.top+i+r.height),r.left-i].map(l=>`${-1*Math.floor(l)}px`).join(" "),a=new IntersectionObserver(()=>{++o>1&&ue(e)},{root:re,threshold:1,rootMargin:d});a.observe(e),wt.set(e,a)}function ue(e){clearTimeout(nt.get(e));let t=ot(e),r=_e(t)?500:t.duration;nt.set(e,setTimeout(async()=>{let o=ce.get(e);try{await o?.finished,V.set(e,Oe(e)),qr(e)}catch{}},r))}function Qr(){clearTimeout(nt.get(re)),nt.set(re,setTimeout(()=>{Pn.forEach(e=>Bn(e,t=>kn(()=>ue(t))))},100))}function eo(e){setTimeout(()=>{Kr.set(e,setInterval(()=>kn(ue.bind(null,e)),2e3))},Math.round(2e3*Math.random()))}function kn(e){typeof requestIdleCallback=="function"?requestIdleCallback(()=>e()):requestAnimationFrame(()=>e())}var It,Ce,to=typeof window<"u"&&"ResizeObserver"in window;to&&(re=document.documentElement,It=new MutationObserver(Jr),Ce=new ResizeObserver($r),window.addEventListener("scroll",()=>{St=window.scrollY,Ct=window.scrollX}),Ce.observe(re));function no(e){return e.reduce((o,i)=>[...o,...Array.from(i.addedNodes),...Array.from(i.removedNodes)],[]).every(o=>o.nodeName==="#comment")?!1:e.reduce((o,i)=>{if(o===!1)return!1;if(i.target instanceof Element){if(xt(i.target),!o.has(i.target)){o.add(i.target);for(let s=0;s<i.target.children.length;s++){let c=i.target.children.item(s);if(c){if(Be in c)return!1;xt(i.target,c),o.add(c)}}}if(i.removedNodes.length)for(let s=0;s<i.removedNodes.length;s++){let c=i.removedNodes[s];if(Be in c)return!1;c instanceof Element&&(o.add(c),xt(i.target,c),Se.set(c,[i.previousSibling,i.nextSibling]))}}return o},new Set)}function xt(e,t){!t&&!(te in e)?Object.defineProperty(e,te,{value:e}):t&&!(te in t)&&Object.defineProperty(t,te,{value:e})}function ro(e){var t;let r=e.isConnected,o=V.has(e);r&&Se.has(e)&&Se.delete(e),ce.has(e)&&((t=ce.get(e))===null||t===void 0||t.cancel()),rt in e?Nn(e):o&&r?io(e):o&&!r?ao(e):Nn(e)}function J(e){return Number(e.replace(/[^0-9.\-]/g,""))}function oo(e){let t=e.parentElement;for(;t;){if(t.scrollLeft||t.scrollTop)return{x:t.scrollLeft,y:t.scrollTop};t=t.parentElement}return{x:0,y:0}}function Oe(e){let t=e.getBoundingClientRect(),{x:r,y:o}=oo(e);return{top:t.top+o,left:t.left+r,width:t.width,height:t.height}}function Wn(e,t,r){let o=t.width,i=t.height,s=r.width,c=r.height,n=getComputedStyle(e);if(n.getPropertyValue("box-sizing")==="content-box"){let a=J(n.paddingTop)+J(n.paddingBottom)+J(n.borderTopWidth)+J(n.borderBottomWidth),l=J(n.paddingLeft)+J(n.paddingRight)+J(n.borderRightWidth)+J(n.borderLeftWidth);o-=l,s-=l,i-=a,c-=a}return[o,s,i,c].map(Math.round)}function ot(e){return te in e&&Ae.has(e[te])?Ae.get(e[te]):{duration:250,easing:"ease-in-out"}}function Dn(e){if(te in e)return e[te]}function At(e){let t=Dn(e);return t?De.has(t):!1}function Bn(e,...t){t.forEach(r=>r(e,Ae.has(e)));for(let r=0;r<e.children.length;r++){let o=e.children.item(r);o&&t.forEach(i=>i(o,Ae.has(o)))}}function Ot(e){return Array.isArray(e)?e:[e]}function _e(e){return typeof e=="function"}function io(e){let t=V.get(e),r=Oe(e);if(!At(e))return V.set(e,r);let o;if(!t)return;let i=ot(e);if(typeof i!="function"){let s=t.left-r.left,c=t.top-r.top,[n,d,a,l]=Wn(e,t,r),u={transform:`translate(${s}px, ${c}px)`},f={transform:"translate(0, 0)"};n!==d&&(u.width=`${n}px`,f.width=`${d}px`),a!==l&&(u.height=`${a}px`,f.height=`${l}px`),o=e.animate([u,f],{duration:i.duration,easing:i.easing})}else{let[s]=Ot(i(e,"remain",t,r));o=new Animation(s),o.play()}ce.set(e,o),V.set(e,r),o.addEventListener("finish",ue.bind(null,e))}function Nn(e){rt in e&&delete e[rt];let t=Oe(e);V.set(e,t);let r=ot(e);if(!At(e))return;let o;if(typeof r!="function")o=e.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:r.duration*1.5,easing:"ease-in"});else{let[i]=Ot(r(e,"add",t));o=new Animation(i),o.play()}ce.set(e,o),o.addEventListener("finish",ue.bind(null,e))}function Rn(e,t){var r;e.remove(),V.delete(e),Se.delete(e),ce.delete(e),(r=wt.get(e))===null||r===void 0||r.disconnect(),setTimeout(()=>{if(Be in e&&delete e[Be],Object.defineProperty(e,rt,{value:!0,configurable:!0}),t&&e instanceof HTMLElement)for(let o in t)e.style[o]=""},0)}function ao(e){var t;if(!Se.has(e)||!V.has(e))return;let[r,o]=Se.get(e);Object.defineProperty(e,Be,{value:!0,configurable:!0});let i=window.scrollX,s=window.scrollY;if(o&&o.parentNode&&o.parentNode instanceof Element?o.parentNode.insertBefore(e,o):r&&r.parentNode?r.parentNode.appendChild(e):(t=Dn(e))===null||t===void 0||t.appendChild(e),!At(e))return Rn(e);let[c,n,d,a]=lo(e),l=ot(e),u=V.get(e);(i!==Ct||s!==St)&&so(e,i,s,l);let f,p={position:"absolute",top:`${c}px`,left:`${n}px`,width:`${d}px`,height:`${a}px`,margin:"0",pointerEvents:"none",transformOrigin:"center",zIndex:"100"};if(!_e(l))Object.assign(e.style,p),f=e.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:l.duration,easing:"ease-out"});else{let[x,y]=Ot(l(e,"remove",u));y?.styleReset!==!1&&(p=y?.styleReset||p,Object.assign(e.style,p)),f=new Animation(x),f.play()}ce.set(e,f),f.addEventListener("finish",Rn.bind(null,e,p))}function so(e,t,r,o){let i=Ct-t,s=St-r,c=document.documentElement.style.scrollBehavior;if(getComputedStyle(re).scrollBehavior==="smooth"&&(document.documentElement.style.scrollBehavior="auto"),window.scrollTo(window.scrollX+i,window.scrollY+s),!e.parentElement)return;let d=e.parentElement,a=d.clientHeight,l=d.clientWidth,u=performance.now();function f(){requestAnimationFrame(()=>{if(!_e(o)){let p=a-d.clientHeight,x=l-d.clientWidth;u+o.duration>performance.now()?(window.scrollTo({left:window.scrollX-x,top:window.scrollY-p}),a=d.clientHeight,l=d.clientWidth,f()):document.documentElement.style.scrollBehavior=c}})}f()}function lo(e){let t=V.get(e),[r,,o]=Wn(e,t,Oe(e)),i=e.parentElement;for(;i&&(getComputedStyle(i).position==="static"||i instanceof HTMLBodyElement);)i=i.parentElement;i||(i=document.body);let s=getComputedStyle(i),c=V.get(i)||Oe(i),n=Math.round(t.top-c.top)-J(s.borderTopWidth),d=Math.round(t.left-c.left)-J(s.borderLeftWidth);return[n,d,r,o]}function _n(e,t={}){return It&&Ce&&(window.matchMedia("(prefers-reduced-motion: reduce)").matches&&!_e(t)&&!t.disrespectUserMotionPreference||(De.add(e),getComputedStyle(e).position==="static"&&Object.assign(e.style,{position:"relative"}),Bn(e,ue,eo,i=>Ce?.observe(i)),_e(t)?Ae.set(e,t):Ae.set(e,{duration:250,easing:"ease-in-out",...t}),It.observe(e,{childList:!0}),Pn.add(e))),Object.freeze({parent:e,enable:()=>{De.add(e)},disable:()=>{De.delete(e)},isEnabled:()=>De.has(e)})}function Tt(e){let[t,r]=(0,de.useState)(),o=(0,de.useMemo)(()=>e,[]),i=(0,de.useCallback)(c=>{c instanceof HTMLElement?r(_n(c,o)):r(void 0)},[o]),s=(0,de.useCallback)(c=>{t&&(c?t.enable():t.disable())},[t]);return[i,s]}var Xn=X(gt());function co(e,t,r){let o=t<0?e.length+t:t;if(o>=0&&o<e.length){let i=r<0?e.length+r:r,[s]=e.splice(t,1);e.splice(i,0,s)}}function Ln(e,t,r){return e=[...e],co(e,t,r),e}var it=X(Re());var z={delete:"mireo91-repeatablefields-xY17aG-delete",property:"mireo91-repeatablefields-xY17aG-property",simpleButtons:"mireo91-repeatablefields-xY17aG-simpleButtons",noSelect:"mireo91-repeatablefields-xY17aG-noSelect",wrapper:"mireo91-repeatablefields-xY17aG-wrapper",loading:"mireo91-repeatablefields-xY17aG-loading",buttons:"mireo91-repeatablefields-xY17aG-buttons",move:"mireo91-repeatablefields-xY17aG-move",group:"mireo91-repeatablefields-xY17aG-group",simpleWrapper:"mireo91-repeatablefields-xY17aG-simpleWrapper"};var Et=Cn(()=>U.default.createElement("span",{type:"button",className:z.move},U.default.createElement(Xn.Icon,{icon:"sort"}))),Mn={disrespectUserMotionPreferences:!0},uo=Gn(({value:e})=>U.default.createElement("div",null,e)),fo=Tn(({children:e,automaticSorting:t,manualSort:r})=>{let[o,i]=Tt(Mn);return(0,U.useEffect)(()=>{document.body.style.cursor=r?"grabbing":null,i(!1);let s=setTimeout(()=>{i(!r)},500);return()=>clearTimeout(s)},[r]),U.default.createElement("div",{className:r&&z.noSelect,ref:t?o:null},e)});function Gt({onChange:e,value:t,element:r,items:o,enable:i,automaticSorting:s,KEY_PROPERTY:c}){if(!i){let[l]=Tt(Mn);return U.default.createElement("div",{ref:s?l:null},o.map((u,f)=>U.default.createElement("div",{key:u[c]},r(f))))}let[n,d]=(0,U.useState)(!1);function a({oldIndex:l,newIndex:u}){e(Ln(t,l,u)),d(!1)}return U.default.createElement(fo,{onSortStart:()=>d(!0),manualSort:n,onSortEnd:a,automaticSorting:s,useDragHandle:!0,axis:"y",lockAxis:"y"},o.map((l,u)=>U.default.createElement(uo,{key:l[c],index:u,value:r(u)})))}Gt.propTypes={items:it.default.array.isRequired,onSortEndAction:it.default.func.isRequired,element:it.default.func.isRequired};var or=X(me()),j=X(Re()),ir=X(ht()),Lt=X(rr()),Ni=window["@Neos:HostPluginAPI"]["@NeosProjectPackages"]().NeosUiEditors.EditorEnvelope;function ar(e){function t(o,i){let{commit:s,id:c,property:n,hooksRegistry:d}=e;if(i){Object.keys(i).map(a=>{d.get(a)(o,i[a]).then(u=>{let f=(0,Lt.default)(u,["__type"]);s(c,n,f)})});return}s(c,n,o)}let r=(0,Lt.default)(e,["commit"]);return or.default.createElement(Ni,{commit:t,options:r.editorOptions?r.editorOptions:{},...r})}ar.propTypes={identifier:j.default.string.isRequired,label:j.default.string.isRequired,options:j.default.object,value:j.default.any,renderSecondaryInspector:j.default.func,editor:j.default.string.isRequired,editorRegistry:j.default.object.isRequired,i18nRegistry:j.default.object.isRequired,validationErrors:j.default.array,onEnterKey:j.default.func,helpMessage:j.default.string,helpThumbnail:j.default.string,highlight:j.default.bool,property:j.default.string.isRequired,id:j.default.number.isRequired,commit:j.default.func.isRequired};var Ri=(0,ir.neos)(e=>({hooksRegistry:e.get("inspector").get("saveHooks")})),sr=Ri(ar);function lr(e,t,r){return e=Pi(e),Xt(r,t,e)}var Ne=e=>JSON.parse(JSON.stringify(e));function ut(e){return typeof e=="number"?!0:typeof e!="string"?!1:!isNaN(e)&&!isNaN(parseFloat(e))}function cr(e,t){let r=Ne(e);return!Array.isArray(r)||!r.length||!Array.isArray(t)||!t.length?r:r.sort((o,i)=>t.reduce((s,c)=>{if(s!==0)return s;let{property:n,order:d="asc"}=c,a=o[n],l=i[n],u=0;return ut(a)&&ut(l)?a>l?u=1:a<l&&(u=-1):u=a.localeCompare(l),d==="desc"&&(u*=-1),u},0))}function Xe(e,t){let r=Ne(e);for(let o in t)o in t&&(t[o]instanceof Object&&r[o]instanceof Object?r[o]=Xe(r[o],t[o]):r[o]=t[o]);return r}function Pi(e){return Array.isArray(e)?e:typeof e=="number"?[e]:e.split(".").map(t=>{let r=parseInt(t);return!isNaN(r)&&String(r)===t?r:t})}function Xt(e,t,r){if(r.length===0)return t;if(typeof e>"u"&&(typeof r[0]=="number"?e=[]:e={}),Array.isArray(e)){typeof r[0]=="number"&&e.length<r[0]&&(r[0]=e.length);let o=[...e];return o[r[0]]=Xt(e[r[0]],t,r.slice(1)),o}return Object.assign({},e,{[r[0]]:Xt(e[r[0]],t,r.slice(1))})}var ki=e=>({contextNodePath:e.focusedNodePath,dataSourceIdentifier:e.options.dataSourceIdentifier,dataSourceUri:e.options.dataSourceUri,dataSourceAdditionalData:e.options.dataSourceAdditionalData,dataSourceDisableCaching:!!e.options.dataSourceDisableCaching});function pr(e){let{commit:t,dataSourcesDataLoader:r,editorRegistry:o,i18nRegistry:i,id:s,validatorRegistry:c,value:n,renderHelpIcon:d}=e,{dataSourceIdentifier:a,dataSourceUri:l,dataSourceAdditionalData:u}=e.options,f=!!(a||l),p="_UUID_",x=i.translate(e.label),[y,R]=(0,I.useState)(!0),[A,P]=(0,I.useState)({}),[G,C]=(0,I.useState)(!0),[T,M]=(0,I.useState)(!0),[b,Y]=(0,I.useState)([]),[S,k]=(0,I.useState)(f?null:e.options),[E,F]=(0,I.useState)({}),Z=()=>JSON.stringify(b),[oe,pe]=(0,I.useState)([]);(0,I.useEffect)(()=>{R(!0),nn.get().endpoints.dataSource("get-property-types",null,{}).then(g=>{P(g),R(!1)})},[]),(0,I.useEffect)(()=>{let g=Z();if(!(oe===g||!S)&&(pe(g),ae(b),gr(b),S.sortBy)){let h=setTimeout(()=>{let N=cr(b,S.sortBy);ie(N)},2e3);return()=>clearTimeout(h)}},[b]),(0,I.useEffect)(()=>{if(!S)return;let g=ft();F(g),pt(g)},[S,A]);let Me=()=>JSON.stringify({dataSourceIdentifier:a,dataSourceUri:l,dataSourceAdditionalData:u}),[je,dt]=(0,I.useState)(null);(0,I.useEffect)(()=>{if(!f)return;let g=Me();je!==g&&(R(!0),dt(g),r.resolveValue(ki(e),b).then(h=>{k(Xe(e.options,h)),R(!1)}))},[a,l,u]);function ft(){let g={},h=S.properties;return h&&Object.entries(h).forEach(([N,_])=>{let D=_&&_.defaultValue;g[N]=Ye(D,"")}),g}function pt(g){let h=n?Ne(n):[];h=h.map((W,q)=>({...W,[p]:$t()}));let{min:N,max:_}=S;if(N&&h.length<N)for(var D=0;D<N;++D)h[D]?h[D]=n[D]:h[D]=g;if(_&&h.length>_&&(h=h.slice(0,_)),h.length)for(let W=0;W<h.length;W++){let q=S.predefinedProperties?.[W]?.properties,L=Ne(h[W]),he=Object.keys(L).filter(ge=>ge==p||ge in g).reduce((ge,Ve)=>{let Fe=q?.[Ve]?.defaultValue!=null?q[Ve].defaultValue:L[Ve];return ut(Fe)&&(Fe=parseFloat(Fe)),{...ge,[Ve]:Fe}},{});h[W]=he}Y(h)}function ie(g){let h=JSON.parse(JSON.stringify(g)).map(N=>(delete N[p],N));t(h),Y(g)}function ae(g){S&&S.max&&C(S.max>g.length)}function gr(g){S&&S.min&&M(S.min<g.length)}function mr(){ie([...b,E])}function Mt(g){let h=b.filter((N,_)=>g!==_);ie(h)}function yr(g,h,N){ie(lr(h,N,b))}function br(g,h,N,_){if(!h||!h.validation)return;let D=h.validation,q=Object.keys(D).map(L=>{let He=D[L];return vr(g,L,He)}).filter(L=>L);return S.controls&&S.controls.add&&C(q.length<=0),q}function vr(g,h,N){let _=c.get(h);if(_)return _(g,N);console.warn(`Validator ${h} not found`)}function xr(g){let h=!!S.predefinedProperties&&S.predefinedProperties[g],{controls:N,sortBy:_,properties:D}=S;return Object.keys(D).length===1?I.default.createElement("div",{className:z.simpleWrapper},jt(g),I.default.createElement("div",{class:z.simpleButtons},!h&&N.remove&&T&&I.default.createElement($.IconButton,{onClick:()=>Mt(g),className:z.delete,icon:"trash"}),!h&&N.move&&b.length>1&&I.default.createElement(Et,null))):I.default.createElement("div",{className:z.wrapper},I.default.createElement("div",{class:z.buttons},!h&&N&&N.move&&b.length>1&&I.default.createElement(Et,null),!h&&N&&N.remove&&T&&I.default.createElement($.IconButton,{onClick:()=>Mt(g),className:z.delete,icon:"trash"})),jt(g))}function jt(g){let{predefinedProperties:h}=S,N=h&&h[g]?h[g].label:null,_=[];return Object.keys(E).map(D=>{_.push(wr(D,g))}),I.default.createElement("div",{className:z.group},N&&I.default.createElement("span",{dangerouslySetInnerHTML:{__html:N}}),_)}function Yt(g){return g!=null}function Ye(g,h=""){return Yt(g)?g:h}function wr(g,h){let N=Ne(b),{properties:_,predefinedProperties:D}=S,W=_[g];D&&D[h]&&D[h].properties&&D[h].properties[g]&&(W=Xe(W,D[h].properties[g]));let q=W.type?A[W.type]:{};q&&(W=Xe(q,W));let L=Ye(W.editorOptions,{}),He=Ye(W.editor,"Neos.Neos/Inspector/Editors/TextFieldEditor"),he=Ye(N[h][g]);!he&&Yt(W.defaultValue)&&(he=W.defaultValue),(L.hasOwnProperty("dataSourceUri")||L.hasOwnProperty("dataSourceIdentifier"))&&(L={...L},L.dataSourceAdditionalData?(L.dataSourceAdditionalData.hasOwnProperty("repeatableIndex")&&(L.dataSourceAdditionalData.repeatableIndex=h),L.dataSourceAdditionalData.hasOwnProperty("repeatableValue")&&(L.dataSourceAdditionalData.repeatableValue=b)):L.dataSourceAdditionalData={});let ge=Object.keys(_).length<=1;return I.default.createElement("div",{className:!ge&&z.property,hidden:W.hidden},I.default.createElement(sr,{identifier:`repeatable-${h}-${g}`,options:L,value:he,renderSecondaryInspector:e.renderSecondaryInspector,editor:He,editorRegistry:o,i18nRegistry:i,validationErrors:br(he,W,h,g),highlight:!1,property:`${h}.${g}`,id:`repeatable-${h}-${g}`,commit:yr,...W}))}if(y||!S)return I.default.createElement(I.default.Fragment,null,I.default.createElement($.Label,{htmlFor:s},x," ",d()),I.default.createElement("div",{id:s,className:z.loading,title:i.translate("Neos.Neos:Main:loading")},I.default.createElement($.Icon,{icon:"spinner",size:"lg",spin:!0})));if(S.hidden)return null;let{buttonAddLabel:Ir="Mireo.RepeatableFields:Main:addRow"}=S;return I.default.createElement(I.default.Fragment,null,I.default.createElement($.Label,{htmlFor:s},x," ",d()),I.default.createElement(Gt,{element:xr,items:b,onChange:ie,enable:S.controls?.move,automaticSorting:S.sortBy,value:b,KEY_PROPERTY:p}),S.controls.add&&G&&I.default.createElement($.Button,{onClick:mr},i.translate(Ir)))}pr.propTypes={identifier:w.default.string.isRequired,label:w.default.string.isRequired,value:w.default.arrayOf(w.default.object),renderSecondaryInspector:w.default.func,editor:w.default.string.isRequired,editorRegistry:w.default.object.isRequired,i18nRegistry:w.default.object.isRequired,validationErrors:w.default.array,onEnterKey:w.default.func,helpMessage:w.default.string,helpThumbnail:w.default.string,highlight:w.default.bool,commit:w.default.func.isRequired,options:w.default.shape({hidden:w.default.bool,buttonAddLabel:w.default.string,dataSourceIdentifier:w.default.string,dataSourceUri:w.default.string,dataSourceDisableCaching:w.default.bool,dataSourceAdditionalData:w.default.objectOf(w.default.any),predefinedProperties:w.default.arrayOf(w.default.shape({label:w.default.string,value:w.default.object})),max:w.default.number,min:w.default.number,controls:w.default.shape({move:w.default.bool,remove:w.default.bool,add:w.default.bool}),sortBy:w.default.arrayOf(w.default.shape({property:w.default.string,direction:w.default.oneOf(["asc","desc"])}))}).isRequired,dataSourcesDataLoader:w.default.shape({resolveValue:w.default.func.isRequired}).isRequired,focusedNodePath:w.default.string.isRequired};var Wi=(0,fr.neos)(e=>({editorRegistry:e.get("inspector").get("editors"),i18nRegistry:e.get("i18n"),dataSourcesDataLoader:e.get("dataLoaders").get("DataSources")})),Di=(0,ur.connect)(e=>({focusedNodePath:dr.selectors.CR.Nodes.focusedNodePathSelector(e)})),hr=Wi(Di(pr));Ft("Mireo.RepeatableFields:RepeatableField",{},e=>{e.get("inspector").get("editors").set("Mireo.RepeatableFields/Inspector/Editors/RepeatableFieldEditor",{component:hr,hasOwnLabel:!0})});})();
//# sourceMappingURL=Plugin.js.map
